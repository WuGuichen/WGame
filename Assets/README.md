# WGame介绍

## 核心框架

基于Entitas的ECS模式。

## 资源系统

基于YooAsset包实现(将示例代码集成到框架中)，可以通过配置表配置各类资源的使用，并使用对象池提高效率。

## UI系统

基于FariyGUI实现，可以导出C#的界面代码，BaseView用FGUI自带的Window类实现
，所有界面都看做窗口（包括全屏窗口）。子界面是树型结构，都继承同一基类以减少差异方便使用。

## 动作系统

主要由一个Timeline形式的编辑器编辑，数据导出为json文本并在运行时反序列化成动作数据类。

### 动画

使用了基于Playable API的Animancer插件替代基础的animator。</br>
优点是更高效的替换动画片段，更方便控制blendTree和动画层级。其余额外功能还未使用到。

## AI系统

行为树、状态机、GOAP。</br>
其中行为树和状态机主要将开源项目代码用WLang特定格式编辑。</br>
GOAP则是将插件集成到AI系统中，C#实现

## 输入系统

基于InputSystem包实现。支持多设备(移动端数据直接用UI实现了)和动态绑定按键功能。

## 物理系统

由于物理系统实现难度大，只加了几种简单形状的数据结构和相交检测代码，
以及点和AABB的八叉树和BVH做空间划分，目前基本没有在使用的自定义物理检测。

## 脚本系统

由于C#也可以某种程度上热更新和热重载，项目中没有接入Lua。
而且加入了基于Antlr4实现的一个解释型的脚本语言WLang，其理念是纯文本但低代码 。</br>
优势是可以比较高效调用包装好的C#定义的方法（只多了几次遍历和字符串字典映射）,
以及更高度的定制（例如可以每个entity独占一个定义域达成类似于类的效果）等等。

## 索敌系统

多对多的索敌系统，目前稳定有M*N次检查(两个阵营双方两两都更新数据，主要消耗为距离，角度等信息)
